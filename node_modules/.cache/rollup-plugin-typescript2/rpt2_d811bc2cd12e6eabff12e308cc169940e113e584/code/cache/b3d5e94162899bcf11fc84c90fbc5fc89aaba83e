{"code":"import { Modal } from 'obsidian';\r\nexport default class DateInputModal extends Modal {\r\n    onSubmit;\r\n    settings;\r\n    constructor(app, onSubmit, settings) {\r\n        super(app);\r\n        this.onSubmit = onSubmit;\r\n        this.settings = settings;\r\n    }\r\n    onOpen() {\r\n        const { contentEl } = this;\r\n        contentEl.createEl('h2', { text: 'Enter Event Details' }).addClass('modal-header');\r\n        this.createLabel(contentEl, 'Event type');\r\n        const eventTypeEl = this.createSelect(contentEl, this.settings.eventTypes.map((option) => option.display));\r\n        this.createLabel(contentEl, 'Describe the event');\r\n        const descriptionEl = this.createInput(contentEl, 'text', 'Describe the event');\r\n        const dateTimeContainer = contentEl.createEl('div');\r\n        dateTimeContainer.addClass('modal-datetime-container');\r\n        // Get the local date in YYYY-MM-DD format\r\n        const localDate = this.getLocalDate();\r\n        const dateContainer = this.createDateTimeContainer(dateTimeContainer, 'Event date', 'date', localDate);\r\n        const startTimeContainer = this.createDateTimeContainer(dateTimeContainer, 'Start time', 'time', '00:00');\r\n        const endTimeContainer = this.createDateTimeContainer(dateTimeContainer, 'End time', 'time', '00:00');\r\n        const submitButton = contentEl.createEl('button', { text: 'Submit' });\r\n        submitButton.addClass('modal-button');\r\n        submitButton.onclick = async () => {\r\n            const description = descriptionEl.value;\r\n            const inputDate = dateContainer.value;\r\n            const eventType = eventTypeEl.value;\r\n            const eventTypeObj = this.settings.eventTypes.find((option) => option.display === eventType);\r\n            const icon = eventTypeObj ? eventTypeObj.icon : '';\r\n            const startTime = startTimeContainer.value;\r\n            const endTime = endTimeContainer.value;\r\n            const journalPrefix = this.settings.journalPrefix;\r\n            this.onSubmit({ description, inputDate, eventType, icon, startTime, endTime, journalPrefix });\r\n            this.close();\r\n        };\r\n    }\r\n    getLocalDate() {\r\n        const now = new Date();\r\n        const year = now.getFullYear();\r\n        const month = String(now.getMonth() + 1).padStart(2, '0'); // Months are 0-based\r\n        const day = String(now.getDate()).padStart(2, '0');\r\n        return `${year}-${month}-${day}`;\r\n    }\r\n    createLabel(container, text) {\r\n        container.createEl('label', { text }).addClass('modal-label');\r\n    }\r\n    createInput(container, type, placeholder) {\r\n        const inputEl = container.createEl('input', { type, placeholder });\r\n        inputEl.addClass('modal-input');\r\n        return inputEl;\r\n    }\r\n    createSelect(container, options, selectedOption = '') {\r\n        const selectEl = container.createEl('select');\r\n        selectEl.addClass('modal-input');\r\n        options.forEach(option => {\r\n            const optionEl = selectEl.createEl('option', { text: option });\r\n            optionEl.value = option;\r\n            if (option === selectedOption) {\r\n                optionEl.selected = true;\r\n            }\r\n        });\r\n        return selectEl;\r\n    }\r\n    createDateTimeContainer(container, labelText, inputType, defaultValue) {\r\n        const dateTimeContainer = container.createEl('div');\r\n        dateTimeContainer.addClass('modal-time-container');\r\n        this.createLabel(dateTimeContainer, labelText);\r\n        const inputEl = this.createInput(dateTimeContainer, inputType, '');\r\n        inputEl.value = defaultValue;\r\n        return inputEl;\r\n    }\r\n    onClose() {\r\n        const { contentEl } = this;\r\n        contentEl.empty();\r\n    }\r\n}\r\n","references":["C:/Users/jpfie/OneDrive/Documents/JOTS/Plugins/jots-event-logger/node_modules/obsidian/obsidian.d.ts"]}
